(this.webpackJsonpblog=this.webpackJsonpblog||[]).push([[0],{120:function(t,e,a){},121:function(t,e,a){"use strict";a.r(e);var n=a(0),s=a.n(n),i=a(12),r=a.n(i),o=a(13),c=a(14),l=a(16),d=a(15),u=a(20),h=a(8),p=a(56),m=a.n(p),j=a(71),g=a(10),b=a.n(g),f=a(122),O=a(158),x=a(160),v=a(159),C=a(126),N=a(167),y=a(2),S=function(t){Object(l.a)(a,t);var e=Object(d.a)(a);function a(t){var n;return Object(o.a)(this,a),(n=e.call(this,t)).handlePostDelete=function(){var t=n.state.id,e="api/posts/".concat(t);b.a.delete(e).then((function(e){console.log("Posts deleted"),n.props.deletePost(t)})).catch((function(t){return console.log("Could not delete post. Error: ",t)})),n.props.hasUpdated()},n.redirectToPost=function(){n.setState({redirect:!0})},n.renderRedirect=function(){if(n.state.redirect)return Object(y.jsx)(h.a,{to:"post/".concat(n.state.id)})},n.handlePostEdit=function(){n.props.editPost(n.state.id)},n.editDeleteButtons=function(){return n.state.isAuthor?Object(y.jsxs)("div",{className:"edit-delete",children:[Object(y.jsx)(N.a,{onClick:n.handlePostDelete,className:"delete-post",children:"Delete"}),Object(y.jsx)(N.a,{onClick:n.handlePostEdit,className:"edit-post",children:Object(y.jsx)(u.b,{to:{pathname:"/edit-post/".concat(n.state.id),state:{title:n.state.title,content:n.state.content,image:n.state.image}},children:"Edit"})})]}):""},n.state={id:n.props.id,index:n.props.index,title:n.props.title,description:n.props.description,date:n.props.datePosted,authorName:n.props.authorName,authorId:n.props.authorId,image:n.props.imageSrc,loggedUser:n.props.currentUser,isAuthor:!1,hasUpdated:!1,redirect:!1},n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){this.props.currentUser?this.props.currentUser.userId===this.state.authorId&&this.setState({isAuthor:!0}):this.setState({isAuthor:!1})}},{key:"componentDidUpdate",value:function(t){t.currentUser!==this.props.currentUser&&(this.props.currentUser?this.props.currentUser.userId===this.state.authorId&&this.setState({isAuthor:!0}):this.setState({isAuthor:!1}))}},{key:"render",value:function(){var t=this.props.classes;return Object(y.jsxs)(O.a,{className:t.root,children:[Object(y.jsx)(v.a,{onClick:this.redirectToPost,className:t.media,image:this.props.image,title:this.props.title}),this.editDeleteButtons(),Object(y.jsxs)(C.a,{className:t.author,component:"p",variant:"h6",align:"left",children:["writen by ",this.state.authorName]}),Object(y.jsxs)(x.a,{children:[Object(y.jsx)(C.a,{variant:"body2",style:{marginBottom:10},color:"textSecondary",component:"p",children:this.props.date}),Object(y.jsx)(C.a,{onClick:this.redirectToPost.bind(this),className:t.title,gutterBottom:!0,variant:"h5",style:{marginBottom:15},component:"h2",children:this.props.title}),Object(y.jsx)(C.a,{variant:"body2",color:"textSecondary",component:"p",children:this.props.description})]}),this.renderRedirect()]})}}]),a}(s.a.Component),k=Object(f.a)((function(t){return{root:{minWidth:375,margin:"auto",height:"100%"},media:{height:300,width:"100%",cursor:"pointer"},title:{cursor:"pointer"},author:{marginLeft:15}}}))(S),_=a(161),I=function(t){Object(l.a)(a,t);var e=Object(d.a)(a);function a(t){var n;return Object(o.a)(this,a),(n=e.call(this,t)).updatePosts=function(){n.setState({hasUpdated:!0})},n.getUserById=function(){var t=Object(j.a)(m.a.mark((function t(e){var a;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a="/api/users/"+e,b.a.get(a).then((function(t){return t.data}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),n.getAuthorNameById=function(){return new Promise((function(t){}))},n.getAllPosts=function(){b.a.get("/api/posts").then((function(t){n.setState({data:t.data,resp:null})}))},n.describeContent=function(t){var e=t.replace(/<\/?[^>]+(>|$)/g,"");return e.length>250&&(e=e.substring(0,250)+"..."),e},n.handlePostDelete=function(t){var e=n.state.data.filter((function(e){return e.id!==t}));console.log(e),n.setState({data:e})},n.state={data:[],hasUpdated:!1},n}return Object(c.a)(a,[{key:"componentDidUpdate",value:function(t){!0===this.state.hasUpdated&&(this.getAllPosts(),this.setState({hasUpdated:!1}))}},{key:"componentDidMount",value:function(){this.getAllPosts()}},{key:"render",value:function(){var t=this;this.getAuthorNameById().then((function(t){return console.log(t)}));var e=this.state.data.map((function(e){return Object(y.jsx)(_.a,{item:!0,xs:4,children:Object(y.jsx)(k,{title:e.title,description:t.describeContent(e.content),date:e.date,image:e.image,authorName:e.author_name,authorId:e.author_id,imageSrc:e.image,id:e.id,name:e.author_name,currentUser:t.props.loggedUser,deletePost:t.handlePostDelete,editPost:t.props.editPost,hasUpdated:t.updatePosts},e.id)},e.id)})),a=this.props.classes;return Object(y.jsxs)("div",{className:a.root,children:[Object(y.jsx)(C.a,{className:a.pageTitle,gutterBottom:!0,variant:"h2",align:"center",children:"This is my blog"}),Object(y.jsx)(_.a,{container:!0,spacing:3,children:e})]})}}]),a}(s.a.Component),w=Object(f.a)((function(t){return{root:{flexGrow:1,marginTop:50},pageTitle:{marginBottom:75}}}))(I),P=function(t){Object(l.a)(a,t);var e=Object(d.a)(a);function a(){return Object(o.a)(this,a),e.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){var t=this.props.postsLinks.map((function(t,e){return Object(y.jsxs)("li",{className:"posts-list-item",children:[t.postTitle," ",Object(y.jsx)("a",{href:t.destination,children:"go to page"})]},e)}));return Object(y.jsxs)("div",{className:"posts-list",children:[Object(y.jsx)("h1",{children:this.props.title}),Object(y.jsx)("ul",{children:t})]})}}]),a}(s.a.Component),A=function(t){Object(l.a)(a,t);var e=Object(d.a)(a);function a(){return Object(o.a)(this,a),e.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return Object(y.jsxs)("div",{children:[Object(y.jsx)("h1",{children:"About my blog"}),Object(y.jsxs)("div",{className:"container",children:[Object(y.jsx)("div",{className:"about-content",children:Object(y.jsx)("p",{children:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Obcaecati dolores porro itaque totam, autem ipsam consectetur asperiores placeat alias vitae doloribus sapiente nulla esse! Sapiente error deserunt doloremque saepe non optio praesentium magnam blanditiis ut numquam. A labore tempore delectus, sed doloribus officiis error dignissimos sint suscipit temporibus assumenda optio explicabo velit ducimus architecto. Quia doloremque similique soluta harum iste dolorum impedit assumenda mollitia quibusdam ullam tenetur perspiciatis odio, ab ducimus omnis porro commodi, nihil ipsa aliquam nemo maxime non. Vel dicta voluptatibus consectetur similique distinctio consequatur, quaerat asperiores, hic cupiditate quam, excepturi provident libero dolore enim ipsum temporibus dolor!"})}),Object(y.jsxs)("div",{className:"sidebar",children:[Object(y.jsx)(P,{title:"Latest",postsLinks:[{postTitle:"Blog post #1 ",destination:"#"},{postTitle:"Blog post #2 ",destination:"#"},{postTitle:"Blog post #3 ",destination:"#"}]}),Object(y.jsx)(P,{title:"Popular",postsLinks:[{postTitle:"Blog post #3 ",destination:"#"},{postTitle:"Blog post #1 ",destination:"#"},{postTitle:"Blog post #2 ",destination:"#"}]})]})]})]})}}]),a}(s.a.Component),L=a(162),U=a(166),T=a(165),D=function(t){Object(l.a)(a,t);var e=Object(d.a)(a);function a(t){var n;return Object(o.a)(this,a),(n=e.call(this,t)).changeUsername=function(t){n.setState({user:t.target.value})},n.changePassword=function(t){n.setState({password:t.target.value})},n.login=function(t){t.preventDefault();var e={user:n.state.user,password:n.state.password};b.a.post("/api/login",e).then((function(t){n.setState({data:[],resp:"Success, user logged in ",error:!1,redirect:!0}),n.props.onSignIn(e)})).catch((function(t){n.setState({data:[],resp:"Error, could not login user",error:!0})}))},n.handleRedirect=function(){if(n.state.redirect)return Object(y.jsx)(h.a,{to:"/"})},n.state={resp:null,user:null,password:null,error:!1,redirect:!1},n}return Object(c.a)(a,[{key:"render",value:function(){return Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(L.a,{maxWidth:"sm",children:Object(y.jsxs)(U.a,{mt:"20vh",alignContent:"center",children:[Object(y.jsx)(C.a,{component:"h1",variant:"h2",align:"center",children:"Login"}),Object(y.jsxs)("form",{action:"",children:[Object(y.jsx)(T.a,{onChange:this.changeUsername,label:"Username",variant:"outlined",required:!0,fullWidth:!0,margin:"normal",id:"standard-error-helper-text",helperText:"Wrong username or password",error:this.state.error}),Object(y.jsx)(T.a,{onChange:this.changePassword,label:"Password",type:"password",variant:"outlined",required:!0,fullWidth:!0,margin:"normal",id:"standard-error-helper-text",helperText:"Wrong username or password",error:this.state.error}),Object(y.jsx)(U.a,{mt:2,mb:2,children:Object(y.jsx)(N.a,{onClick:this.login,variant:"contained",color:"primary",fullWidth:!0,type:"submit",margin:"normal",children:"Login"})}),Object(y.jsxs)(U.a,{textAlign:"center",children:[Object(y.jsx)(N.a,{href:"/signin",color:"primary",children:"Forgot Username/Password"}),Object(y.jsx)(N.a,{href:"/signup",color:"secondary",children:"No account? Sign up!"})]})]})]})}),this.handleRedirect()]})}}]),a}(s.a.Component),q=function(t){Object(l.a)(a,t);var e=Object(d.a)(a);function a(t){var n;return Object(o.a)(this,a),(n=e.call(this,t)).changeUsername=function(t){n.setState({user:t.target.value})},n.changeName=function(t){n.setState({name:t.target.value})},n.changePassword=function(t){n.setState({password:t.target.value})},n.signup=function(t){t.preventDefault();var e={name:n.state.name,user:n.state.user,password:n.state.password};b.a.post("/api/signup",e).then((function(t){n.setState({data:[],resp:"Success, user signed up"}),n.props.onSignIn({user:e.user,password:e.password})})).catch((function(t){n.setState({data:[],resp:"Error, could not sign up user"})}))},n.state={resp:null,user:null,password:null,name:null},n}return Object(c.a)(a,[{key:"render",value:function(){return Object(y.jsx)(y.Fragment,{children:Object(y.jsx)(L.a,{maxWidth:"sm",children:Object(y.jsxs)(U.a,{mt:"20vh",alignContent:"center",children:[Object(y.jsx)(C.a,{component:"h1",variant:"h2",align:"center",children:"Sign Up"}),Object(y.jsxs)("form",{action:"",children:[Object(y.jsx)(T.a,{onChange:this.changeName,label:"Name",variant:"outlined",required:!0,fullWidth:!0,margin:"normal"}),Object(y.jsx)(T.a,{onChange:this.changeUsername,label:"Username",variant:"outlined",required:!0,fullWidth:!0,margin:"normal"}),Object(y.jsx)(T.a,{onChange:this.changePassword,label:"Password",type:"password",variant:"outlined",required:!0,fullWidth:!0,margin:"normal"}),Object(y.jsx)(T.a,{onChange:this.changeRepeatPassword,label:"Repeat Password",type:"password",variant:"outlined",required:!0,fullWidth:!0,margin:"normal"}),Object(y.jsx)(U.a,{mt:2,mb:2,children:Object(y.jsx)(N.a,{onClick:this.signup,variant:"contained",color:"primary",fullWidth:!0,type:"submit",margin:"normal",children:"Sign Up!"})})]})]})})})}}]),a}(s.a.Component),B=a(78),R=a(52),W=a(127),E=Object(W.a)({root:{paddingLeft:25,paddingRight:25},userComment:{width:"90%",display:"flex",flexDirection:"row",paddingLeft:10,paddingRight:10,margin:"10px 0px",gap:"25px"},userAvatar:{verticalAlign:"middle",textAlign:"center"},userAvatarImage:{borderRadius:"50%",objectFit:"cover",width:50,height:50},comment:{marginTop:"25px",display:"flex",gap:"25px"},commentDetails:{},commentDate:{fontSize:14,color:"#4b6e7b"},authorName:{fontSize:18,color:"#2e4750",fontWeight:"600"}});var M=function(t){var e=Object(n.useState)(!1),a=Object(R.a)(e,2),s=a[0],i=a[1],r=Object(n.useState)(""),o=Object(R.a)(r,2),c=o[0],l=o[1],d=Object(n.useState)([]),u=Object(R.a)(d,2),p=u[0],m=u[1],j=E(),g=Object(h.g)().id;Object(n.useEffect)((function(){var t="/api/posts/".concat(g,"/comments");b.a.get(t).then((function(t){m(t.data)})).catch((function(t){return console.log("Error fetching comments ",t)}))}),[]);var f=p.map((function(t){return Object(y.jsxs)("div",{className:j.comment,children:[Object(y.jsx)("div",{className:j.userAvatar,children:Object(y.jsx)("img",{className:j.userAvatarImage,src:"https://assets.atdw-online.com.au/images/9a9e6bc10a768c84cb66b7fda9149e2a.jpeg?rect=0,1071,3672,2754&w=745&h=559&&rot=360",alt:""})}),Object(y.jsxs)("div",{className:j.commentDetails,children:[Object(y.jsx)(C.a,{className:j.authorName,children:t.author_name}),Object(y.jsx)(C.a,{className:j.commentDate,children:"Today at 15:05"}),Object(y.jsx)(C.a,{className:j.commentContent,children:t.content})]})]},t.comment_id)})),O=Object(y.jsx)(N.a,{onClick:function(){i(!0)},children:"Show Comments"}),x=Object(y.jsx)(N.a,{onClick:function(){i(!1)},children:"Hide Comments"});return Object(y.jsxs)("div",{className:j.root,children:[s?x:O,s?f:"",Object(y.jsxs)("div",{className:j.userComment,children:[Object(y.jsx)("div",{className:j.userAvatar,children:Object(y.jsx)("img",{className:j.userAvatarImage,src:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcR06esYfQM8YO9mUMLqyA3hGkivXdCdry8I_Q&usqp=CAU",alt:""})}),Object(y.jsx)(T.a,{id:"outlined-basic",multiline:!0,fullWidth:!0,value:c,onChange:function(t){l(t.target.value)},variant:"outlined",placeholder:"Say something smart please..."}),Object(y.jsx)(N.a,{onClick:function(){var e="/api/posts/".concat(g,"/comments"),a={author_id:t.authorId,author_name:t.authorName,content:c};b.a.post(e,a).then((function(t){console.log("RESPONSE ",t),l(""),m([].concat(Object(B.a)(p),[{comment_id:t.data.comment_id,author_id:t.data.author_id,author_name:t.data.author_name,post_id:t.data.post_id,content:t.data.content}]))})).catch((function(t){return console.log("error adding a comment, ",t)}))},color:"primary",variant:"outlined",className:"send-comment",children:"Send"})]})]})},z=function(t){Object(l.a)(a,t);var e=Object(d.a)(a);function a(t){var n;return Object(o.a)(this,a),(n=e.call(this,t)).getAuthorNameById=function(t){var e="/api/users/"+t;b.a.get(e).then((function(t){n.setState({authorName:t.data.username})}))},n.getPostById=function(t){var e="/api/posts/"+t;b.a.get(e).then((function(e){n.setState({data:e.data,id:t,title:e.data.title,content:e.data.content,authorId:e.data.author_id,image:e.data.image,authorName:e.data.author_name})}))},n.handlePostDelete=function(){var t=n.state.id,e="/api/posts/".concat(t);b.a.delete(e).then((function(t){console.log("Posts deleted"),n.setState({redirect:!0})})).catch((function(t){return console.log("Could not delete post. Error: ",t)}))},n.handleRedirect=function(){if(n.state.redirect)return Object(y.jsx)(h.a,{to:"/"})},n.editDeleteButtons=function(){return Object(y.jsxs)("div",{className:"edit-delete",children:[Object(y.jsx)(N.a,{onClick:n.handlePostDelete,className:"delete-post",children:"Delete"}),Object(y.jsx)(N.a,{className:"edit-post",children:Object(y.jsx)(u.b,{to:{pathname:"/edit-post/".concat(n.state.id),state:{title:n.state.title,content:n.state.content,image:n.state.image}},children:"Edit"})})]})},n.state={data:{},user:{name:"",username:"",password:""},id:n.props.id,title:n.props.title,content:n.props.description,date:n.props.datePosted,authorName:n.props.username,authorId:n.props.authorId,image:n.props.imageSrc,redirect:!1},n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var t=this.props.match.params.id;this.getPostById(t)}},{key:"render",value:function(){var t=this.props.classes;return Object(y.jsx)("div",{className:t.root,children:Object(y.jsxs)("div",{className:t.container,children:[Object(y.jsx)(C.a,{className:t.title,component:"h3",variant:"h4",align:"center",children:this.state.title}),Object(y.jsxs)(C.a,{className:t.author,component:"p",variant:"h6",align:"left",children:["writen by ",this.state.authorName]}),Object(y.jsx)("img",{className:t.image,src:this.state.image,alt:"profile"}),this.editDeleteButtons(),Object(y.jsx)("div",{className:t.content,dangerouslySetInnerHTML:{__html:this.state.content}}),Object(y.jsx)(M,{postId:this.state.id,authorId:this.state.authorId,authorName:this.state.authorName}),this.handleRedirect()]})})}}]),a}(s.a.Component),F=Object(f.a)((function(t){return{root:{},container:{backgroundColor:"#fff",paddingTop:75,maxWidth:800,margin:"auto"},image:{marginTop:35,marginBottom:50,width:"100%"},content:{paddingLeft:30,paddingRight:30,paddingBottom:50},title:{marginLeft:25,marginRight:25},author:{marginTop:25,marginLeft:25}}}))(z);function H(t){return Object(y.jsx)("div",{children:Object(y.jsx)("h1",{children:"Logging out"})})}var G=a(27),J=a(50),Q=function(t){Object(l.a)(a,t);var e=Object(d.a)(a);function a(t){var n;return Object(o.a)(this,a),(n=e.call(this,t)).handleRedirect=function(){if(n.state.redirect)return Object(y.jsx)(h.a,{to:"/post/".concat(n.state.postId)})},n.state={title:"",postContent:"",image:"",postId:n.props.match.params.postId,redirect:!1},n.handleTitleChange=n.handleTitleChange.bind(Object(G.a)(n)),n.handleContentChange=n.handleContentChange.bind(Object(G.a)(n)),n.handleImageUrlChange=n.handleImageUrlChange.bind(Object(G.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(G.a)(n)),n.onChange=n.onChange.bind(Object(G.a)(n)),n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var t=this,e="/api/posts/".concat(this.props.match.params.postId);b.a.get(e).then((function(e){t.setState({title:e.data.title,postContent:e.data.content,image:e.data.image})})).catch((function(t){return console.log("Could not retrieve post. Error: ",t)}))}},{key:"handleTitleChange",value:function(t){this.setState({title:t.target.value})}},{key:"handleContentChange",value:function(t){this.setState({content:t.target.value})}},{key:"handleImageUrlChange",value:function(t){this.setState({image:t.target.value})}},{key:"onChange",value:function(t){this.setState({postContent:t.target.getContent()})}},{key:"handleSubmit",value:function(){var t=this,e="/api/posts/".concat(this.props.match.params.postId),a={title:this.state.title,content:this.state.postContent,image:this.state.image};b.a.put(e,a).then((function(e){console.log("SUCCESS ",e),t.setState({redirect:!0})})).catch((function(t){return console.log("error",t)}))}},{key:"render",value:function(){return Object(y.jsxs)("div",{children:[Object(y.jsx)(C.a,{component:"h3",variant:"h3",align:"center",color:"primary",children:"Edit post"}),Object(y.jsx)(T.a,{onChange:this.handleImageUrlChange,label:"Image",variant:"outlined",required:!0,fullWidth:!0,margin:"normal",id:"standard-error-helper-text",helperText:"Please enter an image",value:this.state.image,error:this.state.error}),Object(y.jsx)(T.a,{onChange:this.handleTitleChange,label:"Title",variant:"outlined",required:!0,fullWidth:!0,margin:"normal",id:"standard-error-helper-text",helperText:"Please enter a title",value:this.state.title,error:this.state.error}),Object(y.jsx)(J.a,{init:{plugins:"link image code",toolbar:"fontselect fontsizeselect formatselect | bold italic underline strikethrough subscript superscript | blockquote removeformat | forecolor backcolor | alignleft aligncenter alignright alignjustify | indent outdent | numlist bullist | link unlink | hr table image | fullscreen code | undo redo"},initialValue:this.state.postContent,onChange:this.onChange}),Object(y.jsx)(N.a,{onClick:this.handleSubmit,color:"primary",variant:"outlined",children:"Submit Edit"}),this.handleRedirect()]})}}]),a}(n.Component),V=Object(f.a)((function(t){return{}}))(Q),Y=(a(120),function(t){Object(l.a)(a,t);var e=Object(d.a)(a);function a(){var t;Object(o.a)(this,a);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return(t=e.call.apply(e,[this].concat(s))).createInitials=function(){var e=t.props.firstName,a=t.props.lastName;return e.charAt(0)+""+a.charAt(0)},t}return Object(c.a)(a,[{key:"render",value:function(){return Object(y.jsx)("header",{children:Object(y.jsxs)("div",{className:"profile",children:[Object(y.jsx)("div",{className:"border"}),Object(y.jsx)("div",{className:"profile-image",children:Object(y.jsx)("div",{className:"name",children:this.createInitials})}),Object(y.jsx)("br",{}),Object(y.jsx)("div",{className:"hey",children:"Hey "+this.props.username+" :)"}),Object(y.jsx)("br",{}),Object(y.jsx)("br",{}),Object(y.jsx)("div",{className:"details",children:"First Name: "+this.props.firstName}),Object(y.jsx)("br",{}),Object(y.jsx)("div",{className:"details",children:"Last Name: "+this.props.lastName})]})})}}]),a}(s.a.Component)),X=function(t){Object(l.a)(a,t);var e=Object(d.a)(a);function a(t){var n;return Object(o.a)(this,a),(n=e.call(this,t)).changeImage=function(t){n.setState({image:t.target.value})},n.changeTitle=function(t){n.setState({title:t.target.value})},n.onSubmit=function(t){console.log("POST ADDED");var e={title:n.state.title,content:n.state.postContent,image:n.state.image,author_id:n.props.user.userId,author_name:n.props.user.username};b.a.post("/api/posts",e).then((function(t){n.setState({redirect:!0,newPostId:t.data.id})}))},n.handleRedirect=function(){if(n.state.redirect)return Object(y.jsx)(h.a,{to:"post/".concat(n.state.newPostId)})},n.onChange=n.onChange.bind(Object(G.a)(n)),n.state={postContent:"",error:!1,image:"",title:"",redirect:!1,newPostId:null},n}return Object(c.a)(a,[{key:"onChange",value:function(t){console.log(t.target.getContent()),this.setState({postContent:t.target.getContent()})}},{key:"render",value:function(){return Object(y.jsxs)("div",{children:[Object(y.jsx)(C.a,{component:"h3",variant:"h3",align:"center",color:"primary",children:"Add A New Post"}),Object(y.jsx)(T.a,{onChange:this.changeImage,label:"Image",variant:"outlined",required:!0,fullWidth:!0,margin:"normal",id:"standard-error-helper-text",helperText:"Please enter an image",error:this.state.error}),Object(y.jsx)(T.a,{onChange:this.changeTitle,label:"Title",variant:"outlined",required:!0,fullWidth:!0,margin:"normal",id:"standard-error-helper-text",helperText:"Please enter a title",error:this.state.error}),Object(y.jsx)(J.a,{init:{plugins:"link image code",toolbar:"fontselect fontsizeselect formatselect | bold italic underline strikethrough subscript superscript | blockquote removeformat | forecolor backcolor | alignleft aligncenter alignright alignjustify | indent outdent | numlist bullist | link unlink | hr table image | fullscreen code | undo redo"},onChange:this.onChange}),Object(y.jsx)(N.a,{onClick:this.onSubmit,color:"primary",variant:"outlined",children:"Add Post"}),this.handleRedirect()]})}}]),a}(s.a.Component),$=a(163),K=Object(W.a)((function(t){return{root:{fontFamily:"sans-serif",display:"flex",flexDirection:"row",justifyContent:"space-between",alignContent:"center",gap:20,color:"rgb(38,38,38)",height:75,alignItems:"center",backgroundColor:"#fff",paddingLeft:"10%",paddingRight:"10%"},navLink:{fontSize:18,marginRight:20,textDecoration:"none","&:hover":{textDecorationThickness:3},color:"rgb(38,38,38)"},active:{"&:hover":{textDecorationThickness:3},fontSize:22,color:"rgb(38,38,38)",fontWeight:600},leftLinks:{display:"flex",flexDirection:"row",justifyContent:"start",justifyItems:"center",gap:20},rightLinks:{display:"flex",flexDirection:"row",justifyContent:"end",gap:20}}}));function Z(t){var e=K();return Object(y.jsxs)("div",{className:e.root,children:[Object(y.jsxs)("div",{className:e.leftLinks,children:[Object(y.jsx)($.a,{to:"/home",component:u.b,className:e.navLink,children:"Home"}),Object(y.jsx)($.a,{to:"/about",component:u.b,className:e.navLink,children:"About Us"}),Object(y.jsx)($.a,{to:"/contact",component:u.b,className:e.navLink,children:"Contact"}),Object(y.jsx)($.a,{to:"/new-post",component:u.b,className:e.navLink,children:"Add new post"})]}),Object(y.jsxs)("div",{className:e.rightLinks,children:[t.user?Object(y.jsxs)($.a,{to:"/profile",component:u.b,className:e.navLink,children:["Hello, ",t.user.username]}):"",t.user?Object(y.jsx)(C.a,{onClick:function(){t.setLogout()},component:u.b,className:e.navLink,children:"Logout"}):Object(y.jsx)($.a,{to:"/signin",component:u.b,className:e.navLink,children:"Login"})]})]})}var tt=a(77),et=a(164),at=a(76),nt=a.n(at),st=Object(tt.a)({backgroundColor:"#eff4f2"}),it=function(t){Object(l.a)(a,t);var e=Object(d.a)(a);function a(t){var n;return Object(o.a)(this,a),(n=e.call(this,t)).setLogin=function(t){b.a.get("/api/user").then((function(e){localStorage.setItem("username",t.user),localStorage.setItem("userId",e.data.user_id),n.setState({userLoggedIn:!0,user:{username:t.user,userId:e.data.user_id}})}))},n.editPost=function(t){},n.setLogout=function(){b.a.post("/api/logout",{}).then((function(t){console.log("Logged out successfully"),n.setState({userLoggedIn:!1,user:null})}))},n.state={userLoggedIn:!1,user:null},n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){null==this.state.user&&this.getUserData()}},{key:"getUserData",value:function(){var t=this;b.a.get("/api/user").then((function(e){var a=e.data.user_id;b.a.get("/api/users/"+a).then((function(e){t.setState({user:{username:e.data.username,userId:e.data.id},userLoggedIn:!0})}))})).catch((function(){return console.log("No user logged in")}))}},{key:"render",value:function(){return Object(y.jsx)(et.a,{theme:st,children:Object(y.jsx)("div",{className:"App",children:Object(y.jsxs)(u.a,{children:[Object(y.jsx)(Z,{user:this.state.user,setLogout:this.setLogout}),Object(y.jsx)("div",{className:nt.a.container,children:Object(y.jsxs)(h.d,{children:[Object(y.jsx)(h.b,{path:"/about",children:Object(y.jsx)(A,{})}),Object(y.jsx)(h.b,{path:"/signin",children:Object(y.jsx)(D,{onSignIn:this.setLogin,onLogout:this.setLogout})}),Object(y.jsx)(h.b,{path:"/signup",children:Object(y.jsx)(q,{onSignIn:this.setLogin})}),Object(y.jsx)(h.b,{path:"/logout",children:Object(y.jsx)(H,{user:this.state.user})}),Object(y.jsx)(h.b,{path:"/post/:id",component:F}),Object(y.jsx)(h.b,{path:"/profile",component:Y}),Object(y.jsx)(h.b,{path:"/new-post",children:Object(y.jsx)(X,{user:this.state.user})}),Object(y.jsx)(h.b,{path:"/edit-post/:postId",component:V}),Object(y.jsx)(h.b,{path:"/",children:Object(y.jsx)(w,{loggedUser:this.state.user||void 0,editPost:this.editPost,deletePost:this.deletePost})})]})})]})})})}}]),a}(s.a.Component);r.a.render(Object(y.jsx)(s.a.StrictMode,{children:Object(y.jsx)(it,{})}),document.getElementById("root"))},76:function(t,e,a){t.exports={container:"App_container__B3N14",sidebar:"App_sidebar__1zGmq","blog-posts":"App_blog-posts__27_-6",bold:"App_bold__1etw4",red:"App_red__1Hl8W","posts-list":"App_posts-list__1JGio","posts-list-item":"App_posts-list-item__3__d0","about-content":"App_about-content__Uz4-x","contact-form":"App_contact-form__3R6yv","new-post":"App_new-post__1oJ13","submit-post":"App_submit-post__2b1oM","new-post-content":"App_new-post-content__2smvO","smaller-font":"App_smaller-font__1ExEw","post-content":"App_post-content__tTMj5","signin-form":"App_signin-form__1FImd"}}},[[121,1,2]]]);
//# sourceMappingURL=main.f255b0c1.chunk.js.map